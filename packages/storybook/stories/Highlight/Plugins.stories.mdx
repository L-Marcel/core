import { Meta } from "@storybook/addon-docs";
import { Highlight } from "@lmarcel/highlight";
import { usingPlugin, corePluginCode } from "../constant/documentation/highlight";
import { storybookTheme } from "../constant/theme/highlight";

<Meta title="Highlight/Plugins"/>

# Plugins
One of the most complex and most useful parts. A single plugin can make changes to code, theme, tokens, property of rendered lines and other things. The library itself already comes with a very simple plugin that I created for testing, the __corePlugin__.

Currently its only function is to style spaces generated by tabs.

See how to use:
<Highlight
  theme={storybookTheme}
  language="ts"
  full={true}
  style={{
    marginBottom: "1rem"
  }}
  code={usingPlugin}
/>

Plugins are executed in the same order they are passed to the component.

The plugin must always be passed as a function, because it can receive specific settings from it. Avoid using too many plugins simultaneously, it can hurt __performance__ and some can __conflict__.


Here is an example of the __structure__ of a plugin:
<Highlight
  theme={storybookTheme}
  language="ts"
  full={true}
  style={{
    marginBottom: "1rem"
  }}
  code={corePluginCode}
/>

The functions follow the same pattern. The first parameter is the plugin's __settings__, the second is the value it wants to __change__ and __return__ and the last is the main __properties__ passed to the component.

Does not support __async__ functions!

I left a [demo](https://core-l-marcel.vercel.app/?path=/story/highlight-examples--editable-with-plugin) of this plugin. I made something very simple, so take it easy if you find fault!
